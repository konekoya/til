# Use Playwright Codegen to Automatically Record UI Interactions

Playwright has a neat feature of recording user interaction and automatically
generate source code for you. This would save you a lot of time and automate many
of your day to day work if the tasks can be done by a browser.

The following example will show you how to record an UI operation that we visit
the playwright.dev docs and search for this codegen feature and then move on to
the next page:

First, create a venv:

```sh
python3 -m venv venv
```

Then, install the package

```sh
pip install pytest-playwright
```

And run the codegen command:

```sh
playwright codegen
```

> Note that you might need to run `playwright install` command if you haven't installed any chromium browser on your machine before

After running the codegen, you should now have two browsers opened, one is the main chromium browser and the other is a UI for recorded actions.

Here is a piece of code that's generated by the codegen after running thru the actions that we mentioned in the above:

```py
import time

from playwright.sync_api import Playwright, expect, sync_playwright


def run(playwright: Playwright) -> None:
    browser = playwright.chromium.launch(headless=False)
    context = browser.new_context()
    page = context.new_page()
    page.goto("https://playwright.dev/")

    # Tap into the search box and search "codegen"
    page.get_by_role("button", name="Search").click()
    page.get_by_placeholder("Search docs").fill("codegen")

    # Select the correct docs link
    page.locator("#docsearch-item-0").get_by_role("link",
                                                  name="Running Codegenâ€‹ Test generator").click()
    page.get_by_role(
        "heading", name="Running CodegenDirect link to Running Codegen").click()

    # The next page link is located in the bottom of the view
    page.mouse.wheel(0, 4000)

    # These sleeps help to slow down the UI interactions so you can see what's actually done during the run
    time.sleep(2)
    page.locator(".pagination-nav__link--next").click()

    time.sleep(3)

    # ---------------------
    context.close()
    browser.close()


with sync_playwright() as playwright:
    run(playwright)

```

References:

- [THIS is Playwrights BEST Feature for Web Automation
  ](https://www.youtube.com/watch?v=oPjfDkge8Vc&t=14s&ab_channel=JohnWatsonRooney) - Awesome video tutorial by John Rooney on how to work with codegen
- [Running Codegen](https://playwright.dev/docs/codegen-intro#running-codegen) - Playwright docs for how to run codegen
